#Cultural Overhaul
#border_policy
#trade_policy


##########################################################################
# Empire Policies
#
# #####
#
# AI:
# Base AI-weight is 100, if unchanged
# AI will grab whatever policy-option has the highest weight
#
# #####
#
##########################################################################




diplomatic_stance = {
	potential = {
		OR = {
			is_country_type = default
			is_country_type = fallen_empire
			is_country_type = awakened_fallen_empire
			is_country_type = primitive
			is_country_type = awakened_marauders
		}
	}

	option = {
		name = "diplo_stance_belligerent"
		icon = "GFX_diplomatic_stance_belligerent"

		potential = {
			OR = {
				is_country_type = default
				is_country_type = awakened_fallen_empire
			}

			is_homicidal = no # They have their own variants of this
			NOR = { has_valid_civic = civic_inwards_perfection    }
		}

		policy_flags = {
			diplo_stance_belligerent
		}

		modifier = {
			country_war_exhaustion_mult = -0.1
			country_naval_cap_mult = 0.1
			country_claim_influence_cost_mult = -0.1
		}

		ai_weight = {
			weight = 10

			modifier = {
				factor = 0
				NOT = { has_country_flag = has_encountered_other_empire }
			}

			# Pacifists
			modifier = { # Fanatic Pacifists can *only* go belligerent if they are at war or there's a rival neighbor...
				factor = 0
				has_ethic = ethic_fanatic_pacifist
				NOR = {
					is_at_war = yes
					any_neighbor_country = {
						is_rival = root
					}
				}
			}
			modifier = { # Regular Pacifists have only a small chance to go belligerent if they are not at war or there's a rival neighbor...
				factor = 0.5
				has_ethic = ethic_pacifist
				NOR = {
					is_at_war = yes
					any_neighbor_country = {
						is_rival = root
					}
				}
			}
			modifier = {
				factor = 0.5 # ...but they're still less likely to.
				is_pacifist = yes
			}

			# Angry people like to be belligerent
			modifier = {
				factor = 2.0
				has_ethic = ethic_fanatic_militarist
			}
			modifier = {
				factor = 1.5
				has_ethic = ethic_militarist
			}
			modifier = {
				factor = 1.5
				has_ethic = ethic_fanatic_authoritarian
			}
			modifier = {
				factor = 1.25
				has_ethic = ethic_authoritarian
			}
			modifier = {
				factor = 5.0 # Intentionally high value for despoilers/Nihilistic Acquisition
				is_slaver = yes
			}
			modifier = {
				factor = 1.5
				has_valid_civic = civic_nationalistic_zeal
			}
			modifier = {
				factor = 1.5
				OR = {
					has_valid_civic = civic_hive_strength_of_legions
					has_valid_civic = civic_machine_warbots
					has_valid_civic = civic_private_military_companies
					has_valid_civic = civic_warrior_culture
				}
			}

			modifier = {
				factor = 1.5
				has_ai_personality_behaviour = conqueror
			}
			modifier = {
				factor = 1.5
				has_ai_personality_behaviour = subjugator
			}

			modifier = {
				factor = 3.0 # Blocked in propagators get ANGRY
				has_ai_expansion_plan = no
				has_ai_personality_behaviour = propagator
			}
		}
	}

	option = {
		name = "diplo_stance_cooperative"
		icon = "GFX_diplomatic_stance_cooperative"

		potential = {
			OR = {
				is_country_type = default
				is_country_type = awakened_fallen_empire
			}
			is_unfriendly = no # Not homicidal or barbaric despoilers
			NOR = { has_valid_civic = civic_inwards_perfection  }
		}

		policy_flags = {
			diplo_stance_cooperative
		}

		modifier = {
			diplo_weight_mult = 0.25
			envoy_improve_relations_mult = 0.5
			country_border_friction_mult = -0.5
		}

		ai_weight = {
			weight = 10

			modifier = {
				factor = 0
				NOT = { has_country_flag = has_encountered_other_empire }
			}

			# Tons of Ethics modifiers!
			# Cranky people:
			modifier = {
				factor = 0
				has_ethic = ethic_fanatic_xenophobe
			}
			modifier = {
				factor = 0.1
				has_ethic = ethic_xenophobe
			}
			modifier = {
				factor = 0.5
				has_ethic = ethic_fanatic_authoritarian
			}
			modifier = {
				factor = 0.75
				has_ethic = ethic_authoritarian
			}

			# Nice people:
			modifier = {
				factor = 2.0
				has_ethic = ethic_fanatic_xenophile
			}
			modifier = {
				factor = 1.5
				has_ethic = ethic_xenophile
			}
			modifier = {
				factor = 1.3
				has_ethic = ethic_fanatic_pacifist
			}
			modifier = {
				factor = 1.15
				has_ethic = ethic_pacifist
			}
			modifier = {
				factor = 1.3
				has_ethic = ethic_fanatic_egalitarian
			}
			modifier = {
				factor = 1.15
				has_ethic = ethic_egalitarian
			}
			modifier = {
				factor = 1.1
				has_ethic = ethic_fanatic_materialist
			}
			modifier = {
				factor = 1.05
				has_ethic = ethic_materialist
			}

			modifier = {
				factor = 1.25
				has_ai_personality_behaviour = multispecies
			}

			modifier = {
				factor = 3.0
				has_ai_personality = federation_builders
			}
		}
	}

	option = {
		name = "diplo_stance_isolationist"
		icon = "GFX_diplomatic_stance_isolationist"

		potential = {
			OR = {
				is_country_type = default
				is_country_type = awakened_fallen_empire
			}
			is_homicidal = no # Homicidal variants below
			is_megacorp = no  # "NO! YOU CAN'T BUY OUR STUFF!" makes the shareholders sad
		}

		policy_flags = {
			diplo_stance_isolationist
		}

		modifier = {
			country_admin_cap_mult = 0.15
			country_unity_produces_mult = 0.10
			diplo_weight_mult = -0.50
			diplomacy_upkeep_mult = 1
			pop_government_ethic_attraction = 0.25
			country_border_friction_mult = 2.0
		}

		on_enabled = {
		}

		ai_weight = {
			weight = 10

			modifier = {
				factor = 0.25 # Let the isolationists start in this if they want
				NOT = { has_country_flag = has_encountered_other_empire }
			}

			modifier = {
				factor = 0
				OR = {
					has_ai_personality = federation_builders
					has_ai_personality = fanatic_befrienders
				}
			}

			modifier = {
				factor = 100.0 # Inwards Perfection should almost always go isolationist
				or = {
				has_valid_civic = civic_inwards_perfection
				}
			}

			modifier = {
				factor = 3.0
				has_ai_personality_behaviour = isolationist
			}

			modifier = {
				factor = 2.0
				is_xenophobe = yes
				is_militarist = no
				is_authoritarian = no
			}
		}
	}

	option = {
		name = "diplo_stance_expansionist"
		icon = "GFX_diplomatic_stance_expansionist"

		potential = {
			OR = {
				is_country_type = default
				is_country_type = awakened_fallen_empire
			}
			is_homicidal = no
		}

		policy_flags = {
			diplo_stance_expansionist
		}

		modifier = {
			starbase_outpost_cost_mult = -0.10
			planet_colony_development_speed_mult = 0.15
			country_border_friction_mult = 1.0
		}

		ai_weight = {
			weight = 10

			modifier = {
				factor = 2
				NOT = { has_country_flag = has_encountered_other_empire }
			}
		}
	}

	option = {
		name = "diplo_stance_mercantile"
		icon = "GFX_diplomatic_stance_mercantile"

		potential = {
			OR = {
				is_country_type = default
				is_country_type = awakened_fallen_empire
			}
			OR = {
				is_megacorp = yes
				has_ethic = ethic_capitalism
				has_ethic = ethic_fanatic_capitalism
			}
			NOR = { has_valid_civic = civic_inwards_perfection   }
		}

		policy_flags = {
			diplo_stance_mercantile
		}

		modifier = {
			diplo_weight_economy_mult = 0.25
			trade_value_mult = 0.1
			local_trade_protection_add = 5
		}

		ai_weight = {
			weight = 10

			modifier = {
				factor = 3.0
				is_megacorp = yes # Megacorps should generally prefer this diplo stance unless their ethics get them to specialize differently
			}
			modifier = {
				factor = 1.25
				has_valid_civic = civic_free_traders
			}
			modifier = {
				factor = 0.65
				OR = {
					has_valid_civic = civic_private_prospectors
					has_valid_civic = civic_private_military_companies
				}
			}
		}
	}

	option = {
		name = "diplo_stance_supremacist"
		icon = "GFX_diplomatic_stance_supremacy"

		potential = {
			is_homicidal = no
			OR = {
				is_country_type = awakened_fallen_empire
				is_country_type = awakened_marauders
				is_country_type = default
			}
			NOR = { has_valid_civic = civic_inwards_perfection   }
		}

		valid = {
			NOT = { has_modifier = humiliated }

			OR = {
				has_tradition = tr_supremacy_finish
				NOT = { is_country_type = default }
			}
			is_subject = no
		}

		policy_flags = {
			diplo_stance_supremacist
		}

		modifier = {
			diplo_weight_naval_mult = 1.00
			country_war_exhaustion_mult = -0.20
			country_naval_cap_mult = 0.20
			country_claim_influence_cost_mult = -0.1
		}

		on_enabled = {
		}

		ai_weight = {
			weight = 10

			modifier = {
				factor = 0
				NOT = { has_country_flag = has_encountered_other_empire }
			}

			modifier = {
				factor = 0
				is_pacifist = yes
			}

			modifier = {
				factor = 10
				OR = {
					is_country_type = awakened_fallen_empire
					is_country_type = awakened_marauders
				}
			}

			# Angry people want to be Supreme
			modifier = {
				factor = 2.0
				has_ethic = ethic_fanatic_militarist
			}
			modifier = {
				factor = 1.5
				has_ethic = ethic_militarist
			}
			modifier = {
				factor = 1.5
				has_ethic = ethic_fanatic_authoritarian
			}
			modifier = {
				factor = 1.25
				has_ethic = ethic_authoritarian
			}
			modifier = {
				factor = 1.25 # Despoilers/Nihilistic Acquisition intentionally get a higher multiplier for Belligerent than Supremacist
				is_slaver = yes
			}
			modifier = {
				factor = 2
				has_valid_civic = civic_nationalistic_zeal
			}
			modifier = {
				factor = 3
				OR = {
					has_valid_civic = civic_hive_strength_of_legions
					has_valid_civic = civic_machine_warbots
					has_valid_civic = civic_private_military_companies
					has_valid_civic = civic_warrior_culture
				}
			}

			modifier = {
				factor = 1.5
				has_ai_personality_behaviour = conqueror
			}
			modifier = {
				factor = 1.5
				has_ai_personality_behaviour = subjugator
			}

			modifier = { # Don't be suicidal
				factor = 0
				any_relation = {
					has_communications = root
					has_policy_flag = diplo_stance_supremacist
					is_country_type = default
					is_subject = no
					relative_power = {
						who = root
						category = fleet
						value = overwhelming
					}
				}
			}
			modifier = {
				factor = 0.25
				any_neighbor_country = {
					has_communications = root
					is_country_type = default
					is_subject = no
					relative_power = {
						who = root
						category = fleet
						value > equivalent
					}
				}
			}
		}
	}

	option = {
		name = "diplo_stance_hunger"
		icon = "GFX_diplomatic_stance_rest"

		potential = {
			has_valid_civic = civic_hive_devouring_swarm
		}

		policy_flags = {
			diplo_stance_hunger
		}

		modifier = {
		}

		ai_weight = {
			weight = 100
		}
	}

	option = {
		name = "diplo_stance_extermination"
		icon = "GFX_diplomatic_stance_recompiling"

		potential = {
			has_valid_civic = civic_machine_terminator
		}

		policy_flags = {
			diplo_stance_extermination
		}

		modifier = {
		}

		ai_weight = {
			weight = 100
		}
	}

	option = {
		name = "diplo_stance_purification"
		icon = "GFX_diplomatic_stance_withdrawn"

		potential = {
			has_valid_civic = civic_fanatic_purifiers
		}

		policy_flags = {
			diplo_stance_purification
		}

		modifier = {
		}

		ai_weight = {
			weight = 100
		}
	}

	option = {
		name = "diplo_stance_isolationist_fallen_empire"
		icon = "GFX_diplomatic_stance_isolationist"

		potential = {
			is_country_type = fallen_empire
		}

		policy_flags = {
			diplo_stance_isolationist_fallen_empire
		}

		modifier = {
		}

		ai_weight = {
			weight = 100
		}
	}

	option = {
		name = "diplo_stance_primitive"
		icon = "GFX_diplomatic_stance_isolationist"

		potential = {
			is_country_type = primitive
		}

		policy_flags = {
			diplo_stance_primitive
		}

		modifier = {
		}

		ai_weight = {
			weight = 1
		}
	}

}

economic_stance = {
	potential = {
		NOT = { has_ethic = ethic_gestalt_consciousness }
	}

    #Free Market
	option = {
		name = "economic_stance_market"

		policy_flags = {
			economic_stance_market
		}

		modifier = {
		    job_mogul_per_pop = 0.03
			job_merchant_per_pop = 0.04
            job_clerk_per_pop = 0.06
			country_trade_fee = -0.1
			country_trade_attractiveness = 0.33
			country_base_influence_produces_add = -0.5
			local_trade_protection_add = -4
			pop_ethic_capitalism_attraction_mult = 0.2
		}

		valid = {
			is_country_type = default
			or = {
				has_policy_flag = trade_policy_default
				has_policy_flag = trade_conversion_consumer_goods
				has_policy_flag = trade_conversion_trade_league
			}
			or = {
			    has_ethic = "ethic_capitalism"
				has_ethic = "ethic_fanatic_capitalism"
				has_technology = tech_free_market
			 }

            NOR = {
				 has_ethic = ethic_fanatic_socialism
				 has_valid_civic = civic_ultimate_collective
				 has_valid_civic = civic_distributism
				 has_valid_civic = civic_state_monopoly
				 and = {
				          has_ethic = ethic_fanatic_authoritarian
                          not = { has_ethic = ethic_fanatic_capitalism }
						}
				 any_owned_pop = {
						has_living_standard = { type = living_standard_shared_burden }
					}
				 any_owned_pop = {
						has_living_standard = { type = living_standard_good }
					}
                 }

		}

		AI_weight = {

		}
	}




    #Mixed
	option = {
		name = "economic_stance_mixed"

		policy_flags = {
			economic_stance_mixed
		}

		modifier = {}

		valid = {

		}

		AI_weight = {
			factor = 10
		}
	}

	#Central Planned
	option = {
		name = "economic_stance_planned"

		policy_flags = {
			economic_stance_planned
		}

		modifier = {
		    planet_jobs_energy_produces_mult = 0.2
			pop_growth_speed = 0.05
			planet_building_build_speed_mult = 0.15
			starbase_shipyard_build_speed_mult = 0.15
		    planet_colony_development_speed_mult = 0.15
			country_trade_fee = 0.2
			pop_ethic_socialism_attraction_mult = 0.2
		}

		valid = {
			is_country_type = default
			or = {
			has_policy_flag = trade_conversion_growth_dev
			has_policy_flag = trade_conversion_development
			has_policy_flag = trade_conversion_mining
			has_policy_flag = trade_conversion_growth
			}
			or = {
				has_ethic = "ethic_socialism"
				has_ethic = "ethic_fanatic_socialism"
				has_technology = tech_planned_economy
			 }
            NOR = {
				 has_ethic = ethic_fanatic_capitalism
				 has_valid_civic = civic_beacon_of_liberty
				 and = {
				          has_ethic = ethic_fanatic_egalitarian
                          not = { has_ethic = ethic_fanatic_socialism }
						}
                 }
		}

		AI_weight = {

		}
	}



}


trade_policy = {
	potential = {
		NOT = { has_ethic = ethic_gestalt_consciousness }
	}

	option = {
		name = "trade_policy_default"
		potential = {
			OR = {
				has_federation = no
				AND = {
					has_federation = yes
					federation = { NOT = { has_federation_perk = trade_federation_passive } }
				}
			}
		}

		policy_flags = {
			trade_policy_default
		}

		valid = {
			is_country_type = default
			NOR = {
				has_policy_flag = "economic_stance_planned"
				has_ethic = "ethic_fanatic_socialism"
				# has_valid_civic = civic_research_inc
			}
		}

		AI_weight = {
			factor = 1
		}
	}

	option = {
		name = "trade_policy_consumer_goods"

		potential = {
			OR = {
				has_federation = no
				AND = {
					has_federation = yes
					federation = { NOT = { has_federation_perk = trade_federation_passive } }
				}
			}
		}

		policy_flags = {
			trade_conversion_consumer_goods
		}

		valid = {
			is_country_type = default
			NOR = {
				has_policy_flag = "economic_stance_planned"
				has_ethic = "ethic_fanatic_socialism"
				# has_valid_civic = civic_research_inc
			}
		}

		modifier = {}

		AI_weight = {
			factor = 0
		}
	}

	option = {
		name = "trade_policy_unity"

		policy_flags = {
			trade_conversion_unity
		}
		potential = {
			OR = {
				has_federation = no
				AND = {
					has_federation = yes
					federation = { NOT = { has_federation_perk = trade_federation_passive } }
				}
			}
		}


		valid = {
			is_country_type = default
			NOR = {
				has_policy_flag = "economic_stance_market"
				has_policy_flag = "economic_stance_planned"
				# has_valid_civic = civic_research_inc
			}
		}

		modifier = {
		}

		AI_weight = {
			factor = 0
		}
	}

	option = {
		name = "trade_policy_trade_league"
		potential = {
			has_federation = yes
			federation = { has_federation_perk = trade_federation_passive }
		}

		policy_flags = {
			trade_conversion_trade_league
		}

		modifier = {
		}

		AI_weight = {
			factor = 0
		}
	}


    #Growth & Development
	option = {
		name = "trade_policy_growth_dev"

		policy_flags = {
			trade_conversion_growth_dev
		}

		valid = {
			is_country_type = default

			NOR = {
				has_policy_flag = "economic_stance_market"
				has_ethic = "ethic_fanatic_capitalism"
				# has_valid_civic = civic_research_inc
			}
		}

		modifier = {
		}

		AI_weight = {
			factor = 0
		}
	}


	#development
	option = {
		name = "trade_policy_development"

		policy_flags = {
			trade_conversion_development
		}

		modifier = {
			planet_building_build_speed_mult = 0.15
			starbase_shipyard_build_speed_mult = 0.15
		    planet_colony_development_speed_mult = 0.15
		}

		valid = {
			is_country_type = default
			NOR = {
				has_policy_flag = "economic_stance_market"
				has_ethic = "ethic_fanatic_capitalism"
				# has_valid_civic = civic_research_inc
			}
		}

		AI_weight = {
			factor = 0
		}
	}


	#innovation
	option = {
		name = "trade_policy_innovation"

		policy_flags = {
			trade_conversion_innovation
		}

		valid = {
			is_country_type = default
			or = {
			has_technology = tech_innovations
			}
			NOR = {
				has_valid_civic = civic_ultimate_collective
			}
			NOR = {
				has_policy_flag = "economic_stance_market"
				has_policy_flag = "economic_stance_planned"
			}
		}

		modifier = {
		}

		AI_weight = {
			factor = 0
		}
	}

	#growth
	option = {
		name = "trade_policy_growth"

		policy_flags = {
			trade_conversion_growth
		}

		modifier = {
		}

		valid = {
			is_country_type = default
			or = {
			has_technology = tech_agri_consortium
             }
			NOR = {
				has_policy_flag = "economic_stance_market"
				# has_valid_civic = civic_research_inc
			}
		}

		AI_weight = {
			factor = 0
		}
	}


	option = {
		name = "trade_policy_mining"

		policy_flags = {
			trade_conversion_mining
		}

		modifier = {
		}

		valid = {
			is_country_type = default
			or = {
			has_technology = tech_mining_consortium
             }
			NOR = {
				has_policy_flag = "economic_stance_market"
				# has_valid_civic = civic_research_inc
			}
		}

		AI_weight = {
			factor = 0
		}
	}





}


bureaucracy = {

	potential = {

	}


	option = {
		name = "none_bureaucracy"

		policy_flags = {
			none_bureaucracy
		}

		modifier = {

		}

	}





	option = {
		name = "centralized_state"

		valid = {
			is_country_type = default
			has_technology = tech_centralized_state
            not = { has_valid_civic = civic_beacon_of_liberty }
			NOR = {
				has_ethic = "ethic_fanatic_egalitarian"
			}
		}

		policy_flags = {
			centralized_state
		}

		modifier = {

		country_base_influence_produces_add = 1
		empire_size_penalty_mult = 0.15
		pop_ethic_authoritarian_attraction_mult = 0.15

		}

    AI_weight = {

			modifier = {
				factor = 10
				OR = {
				has_ethic = "ethic_fanatic_authoritarian"
			    }
			           }

	            }

	}









	option = {
		name = "federal_state"


		policy_flags = {
			federal_state
		}

		valid = {
			is_country_type = default
			has_technology = tech_federal_state
            not = { has_valid_civic = civic_ultimate_collective }
			NOR = {
				has_ethic = "ethic_fanatic_authoritarian"
			}
		}

		modifier = {

		# country_admin_cap_mult = 0.2
        # governor_skill_levels = 1
		edicts_cost_mult = 0.25
		pop_ethic_egalitarian_attraction_mult = 0.15
		pop_factions_influence_produces_mult = 0.33


		}

    AI_weight = {

			modifier = {
				factor = 10
				OR = {
				has_ethic = "ethic_fanatic_egalitarian"
			    }
			           }

	           }

	}








}


healthcare = {

	potential = {
		NOT = { has_ethic = ethic_gestalt_consciousness }
	}


	option = {
		name = "mixed_healthcare"

		valid = {
			NOR = {
				has_valid_civic = civic_shared_burden
			}
		}

		policy_flags = {
			mixed_healthcare
		}

		modifier = {

		}




	}


	option = {
		name = "private_healthcare"

		valid = {
			NOR = {
				has_ethic = "ethic_fanatic_socialism"
				has_ethic = "ethic_pluralist"
				has_ethic = "ethic_fanatic_pluralist"
			}
		}

		policy_flags = {
			private_healthcare
		}

		modifier = {
		       leader_age = 10
			   pop_cat_worker_happiness = -0.05
			   pop_ethic_capitalism_attraction_mult = 0.05
			   pop_ethic_elitist_attraction_mult = 0.1
		}

        AI_weight = {
			modifier = {
				factor = 10
				OR = {
				has_ethic = "ethic_fanatic_capitalism"
			    }
			           }
		}

    }









	option = {
		name = "public_healthcare"

		valid = {
			NOR = {
				has_ethic = "ethic_fanatic_capitalism"
				has_ethic = "ethic_elitist"
				has_ethic = "ethic_fanatic_elitist"				

			}
		}

		policy_flags = {
			public_healthcare
		}

		modifier = {
		       pop_growth_speed = 0.05
               pop_ethic_socialism_attraction_mult = 0.05
			   pop_ethic_pluralist_attraction_mult = 0.1
			   country_energy_produces_mult = -0.04
		}

      AI_weight = {
			modifier = {
				factor = 10
				OR = {
				has_ethic = "ethic_fanatic_socialism"
			    }
			           }
		}




	}





}


education = {

	potential = {
		NOT = { has_ethic = ethic_gestalt_consciousness }
	}


	option = {
		name = "mixed_education"

		valid = {
			NOR = {
				has_valid_civic = civic_shared_burden

			}
		}

		policy_flags = {
			mixed_education
		}

		modifier = {

		}




	}


	option = {
		name = "private_education"

		valid = {
			NOR = {
				has_ethic = "ethic_fanatic_socialism"
				has_ethic = "ethic_pluralist"
				has_ethic = "ethic_fanatic_pluralist"				
			}
		}

		policy_flags = {
			private_education
		}

		modifier = {


		planet_jobs_specialist_produces_mult = 0.05	
		planet_crime_add = 10
		pop_ethic_capitalism_attraction_mult = 0.05
		pop_ethic_elitist_attraction_mult = 0.1


		}

        AI_weight = {
			modifier = {
				factor = 10
				OR = {
				has_ethic = "ethic_fanatic_capitalism"
			    }
			           }
		}

    }









	option = {
		name = "public_education"

		valid = {
			NOR = {
				has_ethic = "ethic_fanatic_capitalism"
				has_ethic = "ethic_elitist"
				has_ethic = "ethic_fanatic_elitist"					
			}
		}

		policy_flags = {
			public_education
		}

		modifier = {

        pop_government_ethic_attraction = 0.1
        country_unity_produces_mult = 0.1
        planet_crime_add = -10
		country_energy_produces_mult = -0.04
		pop_ethic_socialism_attraction_mult = 0.05
		pop_ethic_pluralist_attraction_mult = 0.1




		}

      AI_weight = {
			modifier = {
				factor = 10
				OR = {
				has_ethic = "ethic_fanatic_socialism"
			    }
			           }
		}




	}







}


industrial = {

	potential = {
	}


	option = {
		name = "mixed_industrial"

		valid = {
		}

		policy_flags = {
			mixed_industrial
		}

		modifier = {

		}




	}


	option = {
		name = "industrial_efficiency"

		valid = {
			NOR = {
				has_valid_civic = civic_industrial_economy
				has_ethic = "ethic_fanatic_industrial"		
				has_valid_civic = civic_machine_industry
			}
		}

		policy_flags = {
			industrial_efficiency
		}

		modifier = {
		planet_structures_cost_mult = -0.15
		planet_structures_upkeep_mult = -0.15
		planet_building_refund_mult = 0.15
		planet_building_build_speed_mult = -0.5
		planet_clear_blocker_time_mult = 0.5
		}

        AI_weight = {
			modifier = {
				factor = 10
				OR = {
				has_valid_civic = civic_environmentalist
				has_valid_civic = civic_keepers_harmony
			    }
			           }

		}

    }









	option = {
		name = "industrial_growth"

		valid = {
			NOR = {
				has_valid_civic = civic_keepers_harmony
				has_ethic = "ethic_fanatic_green"	
			}
		}

		policy_flags = {
			industrial_growth
		}

		modifier = {
                  planet_jobs_energy_produces_mult = 0.1
				  planet_jobs_minerals_produces_mult = 0.20
				  planet_stability_add = -5
		}

      AI_weight = {
			modifier = {
				factor = 10
				OR = {
				has_valid_civic = civic_industrial_economy
				has_valid_civic = civic_consumerism
			    }
			           }

		}




	}




}


transportation_logistics = {

	potential = {



	}


	option = {
		name = "none_transport"

		policy_flags = {
			none_transport
		}

		modifier = {

		}

	}





	option = {
		name = "civilian_transport"


		policy_flags = {
			civilian_transport
		}

		valid = {
			NOR = {
				has_ethic = ethic_fanatic_militarist
			}
		is_country_type = default
		}

		modifier = {

        trade_value_mult = 0.1
		pop_growth_from_immigration = 0.33
		planet_colony_development_speed_mult = 0.33
		ships_upkeep_mult = 0.10
		local_trade_protection_add = -4
		pop_ethic_pacifist_attraction_mult = 0.25

		}

    AI_weight = {


	            }

	}









	option = {
		name = "military_transport"


		policy_flags = {
			military_transport
		}

		valid = {
			NOR = {
				has_ethic = ethic_fanatic_pacifist
				has_valid_civic = civic_corporate_dominion
			}
		is_country_type = default
		}

		modifier = {


		ships_upkeep_mult = -0.15
		local_trade_protection_add = 5
		pop_growth_from_immigration = -0.15
		trade_value_mult = -0.04
		pop_ethic_militarist_attraction_mult = 0.25



		}

    AI_weight = {



	           }

	}








}


gun_rights = {

	potential = {

	    		NOT = { has_ethic = ethic_gestalt_consciousness }
	}


	option = {
		name = "gun_rights_limited"

		valid = {
			NOR = {
				has_valid_civic = civic_beacon_of_liberty
			}
		}


		policy_flags = {
			gun_rights_limited
		}

		modifier = {			}

    AI_weight = {	       }





	}



	option = {
		name = "gun_rights_allowed"


		valid = {
		is_country_type = default
		}


		policy_flags = {
			gun_rights_allowed
		}

		modifier = {

					  army_damage_mult = 0.2
					  planet_crime_no_happiness_mult = 0.15
		}

    AI_weight = {
			modifier = {
				factor = 10
		   OR = {
				has_ethic = "ethic_fanatic_capitalism"
				}

			           }
		        }





	}










}




interstellar_telecom = {

	potential = {



	}


	option = {
		name = "none_telecom"

		policy_flags = {
			none_telecom
		}

		modifier = {

		}

	}





	option = {
		name = "civilian_telecom"


		policy_flags = {
			civilian_telecom
		}

		valid = {
			NOR = {
				has_ethic = ethic_fanatic_militarist
			}
		is_country_type = default
		}

		modifier = {

        country_admin_cap_mult = 0.1
		station_researchers_produces_mult = 0.2
		science_ship_survey_speed = 0.33
		country_naval_cap_mult = -0.5
		pop_ethic_pacifist_attraction_mult = 0.25

		}

    AI_weight = {

	            }

	}









	option = {
		name = "military_telecom"


		policy_flags = {
			military_telecom
		}

		valid = {
			NOR = {
				has_ethic = ethic_fanatic_pacifist
				has_valid_civic = civic_exploration
			}
		is_country_type = default
		}

		modifier = {

        country_naval_cap_mult = 0.33
		country_starbase_capacity_add = 5
		station_researchers_produces_mult = -0.15
		pop_ethic_militarist_attraction_mult = 0.25



		}

    AI_weight = {


	           }

	}








}


interstellar_media = {

	potential = {


	    		NOT = { has_ethic = ethic_gestalt_consciousness }

	}


	option = {
		name = "none_media"

		policy_flags = {
			none_media
		}



		modifier = {

		}

	}





	option = {
		name = "free_media"


		policy_flags = {
			free_media
		}

		valid = {
			is_country_type = default
			NOR = {
				has_ethic = ethic_fanatic_authoritarian
				has_valid_civic = civic_divine_order
				has_valid_civic = civic_ultimate_collective

			}
		}

		modifier = {

		pop_factions_produces_mult = 0.2
		job_entertainer_per_pop = 0.03
        planet_stability_add = -5
        pop_ethic_egalitarian_attraction_mult = 0.15


		}

    AI_weight = {

			modifier = {
				factor = 10
		   OR = {
				has_ethic = "ethic_fanatic_egalitarian"
				}
			           }


	            }

	}









	option = {
		name = "state_media"


		policy_flags = {
			state_media
		}

		valid = {
			is_country_type = default
			NOR = {
				has_ethic = ethic_fanatic_egalitarian
				has_valid_civic = civic_beacon_of_liberty
				has_valid_civic = civic_political_pluralism
			}
		}

		modifier = {

        pop_government_ethic_attraction = 0.2
		country_war_exhaustion_mult = -0.2
		pop_factions_produces_mult = -0.15
        pop_ethic_authoritarian_attraction_mult = 0.15


		}

    AI_weight = {

			modifier = {
				factor = 10
		   OR = {
				has_ethic = "ethic_fanatic_authoritarian"
				}
			           }


	           }

	}

}


orbital_bombardment = {

	potential = {
		OR = {
			is_country_type = default
			is_country_type = vol
		}
	}

	option = {
		name = "orbital_bombardment_selective"
		policy_flags = {
			orbital_bombardment_selective
		}

		AI_weight = {
			modifier = {
				factor = 0
				NOR = {
					has_ethic = "ethic_pacifist"
					has_ethic = "ethic_fanatic_pacifist"
				}
				NOT = {
					is_galactic_community_member = yes
					OR = {
						is_active_resolution = "resolution_rulesofwar_independent_tribunals"
						is_active_resolution = "resolution_rulesofwar_last_resort_doctrine"
						is_active_resolution = "resolution_rulesofwar_demobilization_initiative"
					}
				}
			}
		}
	}
	option = {
		name = "orbital_bombardment_indiscriminate"
		
		in_breach_of = {
			{
				key = resolution_rulesofwar_independent_tribunals
			}
		}		

		policy_flags = {
			orbital_bombardment_indiscriminate
		}
		modifier = {}

		valid = {
			NOR = {
				has_ethic = "ethic_pacifist"
				has_ethic = "ethic_fanatic_pacifist"
				has_valid_civic = "civic_xeno_militarist"
			}
		}
		AI_weight = {
			modifier = {
				factor = 0.1
				is_galactic_community_member = yes
				OR = {
					is_active_resolution = "resolution_galacticstudies_ethical_guideline_refactoring"
					is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
				}
			}
		}
	}
	option = {
		name = "orbital_bombardment_armageddon"
		
		in_breach_of = {
			{
				key = resolution_rulesofwar_independent_tribunals
			}
		}		

		potential = {
			OR = {
				has_valid_civic = civic_fanatic_purifiers
				has_valid_civic = civic_machine_terminator
			}
		}

		policy_flags = {
			orbital_bombardment_armageddon
		}
		modifier = {}

		AI_weight = {
			modifier = {
				factor = 10
				OR = {
					has_valid_civic = civic_fanatic_purifiers
					has_valid_civic = civic_machine_terminator
				}
			}
		}
	}
}


economic_policy = {
	potential = {
		NOT = { has_ethic = ethic_gestalt_consciousness }
	}

	option = {
		name = "economic_policy_civilian"
		
		policy_flags = {
			economic_policy_civilian
		}		

		valid = {
			NOR = {
				has_valid_civic = "civic_military_junta"
			}
		}
		
		

		modifier = {
			country_consumer_goods_produces_mult = 0.15
			country_alloys_produces_mult = -0.25
			pop_ethic_pacifist_attraction_mult = 0.2
		}

		AI_weight = {
			factor = 0
		}
	}

	option = {
		name = "economic_policy_balanced"
		
		policy_flags = {
			economic_policy_balanced
		}		

		modifier = {}

		AI_weight = {
			factor = 1
			modifier = {
				factor = 10
				has_valid_ai_personality = yes
				is_ai = yes
				is_galactic_community_member = yes
				is_active_resolution = "resolution_rulesofwar_demobilization_initiative"
			}
		}
	}

	option = {
		name = "economic_policy_military"
		
		policy_flags = {
			economic_policy_military
		}			
		
		in_breach_of = {
			{
				key = resolution_rulesofwar_demobilization_initiative
			}
		}		

		valid = {
			NOR = {
				has_valid_civic = "civic_peaceful_republic"
			}
		}

		modifier = {
			country_consumer_goods_produces_mult = -0.25
			country_alloys_produces_mult = 0.15
			pop_ethic_militarist_attraction_mult = 0.2
		}

		AI_weight = {
			factor = 2
			modifier = {
				factor = 0
				is_authoritarian = no
			}
		}
	}
}


resettlement = {
	potential = {
		NOT = { has_ethic = "ethic_gestalt_consciousness" }
	}

	option = {
		name = "resettlement_not_allowed"

		policy_flags = {
			resettlement_not_allowed
		}
	}

	option = {
		name = "resettlement_allowed"

		policy_flags = {
			resettlement_allowed
		}

		valid = {
			NOR = {
				has_valid_civic = civic_beacon_of_liberty
			}
		}

		modifier = {}

		AI_weight = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
			}
		}
	}
}


population_controls = {
	potential = {
		NOT = { has_ethic = "ethic_gestalt_consciousness" }
	}

	option = {
		name = "population_controls_not_allowed"

		on_enabled = {
			hidden_effect = { every_owned_planet = { remove_modifier = planet_population_control } }
		}

		policy_flags = {
			population_controls_not_allowed
		}
	}

	option = {
		name = "population_controls_allowed"

		on_enabled = {
			hidden_effect = { every_owned_planet = { remove_modifier = planet_growth_discouraged } }
		}

		valid = {
			NOR = {
				has_valid_civic = civic_beacon_of_liberty
				has_valid_civic = civic_spiritual_democracy
			}
		}

		policy_flags = {
			population_controls_allowed
		}
		modifier = {}

		AI_weight = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
					has_ethic = ethic_xenophile
					has_ethic = ethic_fanatic_xenophile
				}
			}
		}
	}
}




artificial_intelligence_policy = {

	potential = {
		NOT = { has_ethic = ethic_gestalt_consciousness }
		can_set_ai_policy = yes
	}

	option = {
		name = "ai_outlawed"

		valid = {
			NOR = {
				has_ethic = "ethic_materialist"
				has_ethic = "ethic_fanatic_materialist"
				has_country_flag = synthetic_empire
				has_valid_civic = civic_machine_cult
			}
		}

		policy_flags = {
			ai_outlawed
		}

		AI_weight = {
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_materialist"
					has_ethic = "ethic_fanatic_materialist"
				}
			}
			modifier = {
				factor = 5
				OR = {
					has_ethic = "ethic_spiritualist"
					has_ethic = "ethic_fanatic_spiritualist"
				}
			}
			modifier = {
				factor = 0.1
				has_valid_ai_personality = yes
				is_ai = yes
				is_galactic_community_member = yes
				OR = {
					is_active_resolution = "resolution_galacticstudies_advanced_xenostudies"
					is_active_resolution = "resolution_galacticstudies_ethical_guideline_refactoring"
					is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
				}
			}
		}
	}

	option = {
		name = "ai_servitude"
		
		in_breach_of = {
			{
				key = resolution_galacticstudies_advanced_xenostudies
			}
		}		

		valid = {
			NOR = {
				has_valid_civic = civic_machine_cult
				has_country_flag = synthetic_empire
			}
		}

		policy_flags = {
			ai_servitude
		}

		AI_weight = {
			modifier = {
				factor = 5
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = robot_exploiter
			}
			modifier = {
				factor = 2
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = robot_liberator
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_spiritualist"
					has_ethic = "ethic_fanatic_spiritualist"
				}
				not = { has_valid_civic = civic_machine_cult }

			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_spiritualist"
					has_ethic = "ethic_fanatic_spiritualist"
				}
				NOT = {
					has_valid_ai_personality = yes
					is_ai = yes
					is_galactic_community_member = yes
					OR = {
						is_active_resolution = "resolution_galacticstudies_advanced_xenostudies"
						is_active_resolution = "resolution_galacticstudies_ethical_guideline_refactoring"
						is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
					}
				}

			}
		}
	}

	option = {
		name = "ai_full_rights"

		valid = {
		  or = {
			NOR = {
				has_ethic = "ethic_spiritualist"
				has_ethic = "ethic_fanatic_spiritualist"
			}
			has_valid_civic = civic_machine_cult
		  }
			NOT = { has_policy_flag = robots_outlawed }
		}

		policy_flags = {
			ai_full_rights
		}

		modifier = {}

		AI_weight = {
			modifier = {
				factor = 0
				always = yes #TODO [MAW] we should make sure we can afford it here
			}
			modifier = {
				factor = 5
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = robot_liberator
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_spiritualist"
					has_ethic = "ethic_fanatic_spiritualist"
				}
			}
		}
	}
}


robot_pop_policy = {

	potential = {
		NOT = { has_ethic = ethic_gestalt_consciousness }
	}

	option = {
		name = "robot_pops_outlawed"

		valid = {
			NOR = {
				has_ethic = "ethic_materialist"
				has_ethic = "ethic_fanatic_materialist"
				has_valid_civic = civic_machine_cult
			}
			NOT = { has_policy_flag = ai_full_rights }
		}

		policy_flags = {
			robots_outlawed
		}

		AI_weight = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_materialist"
					has_ethic = "ethic_fanatic_materialist"
				}
			}
			modifier = {
				factor = 10
				has_valid_ai_personality = yes
				NOR = {
					has_ai_personality_behaviour = robot_exploiter
					has_ai_personality_behaviour = robot_liberator
				}
			}
		}
	}

	option = {
		name = "robot_pops_allowed"

		policy_flags = {
			robots_allowed
		}

		AI_weight = {
			factor = 2
		}
	}
}


slavery = {
	potential = {
		NOT = { has_ethic = "ethic_gestalt_consciousness" }
	}

	option = {
		name = "slavery_not_allowed"

		valid = {
			NOR = {
				has_valid_civic = civic_slaver_guilds
				has_valid_civic = civic_reeducated_labor
				has_valid_civic = civic_divine_order
				has_valid_civic = civic_indentured_assets
			}
		}

		policy_flags = {
			slavery_not_allowed
		}

		on_enabled = {
			hidden_effect = { every_owned_planet = { remove_modifier = slave_colony } }
		}

		modifier = {
			slave_market_cost_mult = 1
		}
	}

	option = {
		name = "slavery_allowed"

		valid = {
			NOT = { is_subject_type = signatory }
			OR = {
				has_ethic = ethic_authoritarian
				has_ethic = ethic_fanatic_authoritarian
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophobe
				has_valid_civic = civic_slaver_guilds
				has_valid_civic = civic_divine_order
				has_valid_civic = civic_reeducated_labor
			}
		}

		policy_flags = {
			slavery_allowed
		}
		modifier = {}

		AI_weight = {
			factor = 10
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				NOT = { has_ai_personality_behaviour = slaver }
			}
			modifier = {
				factor = 0
				has_valid_ai_personality = no
				NOR = {
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
				}
			}
			# special case for harmonious collectives
			modifier = {
				factor = 0
				has_valid_ai_personality = no
				is_ai = yes
				NOR = {
					has_ethic = "ethic_xenophobe"
					has_ethic = "ethic_fanatic_xenophobe"
					has_ethic = "ethic_militarist"
					has_ethic = "ethic_fanatic_militarist"
				}
				OR = {
					has_ethic = "ethic_pacifist"
					has_ethic = "ethic_fanatic_pacifist"
					has_ethic = "ethic_xenophile"
					has_ethic = "ethic_fanatic_xenophile"
				}
				OR = {
					has_ethic = "ethic_authoritarian"
					has_ethic = "ethic_fanatic_authoritarian"
				}
				NOR = {
					has_valid_civic = "civic_slaver_guilds"
					has_trait = "trait_decadent"
				}
			}
		}
	}
}


border_policy = {

	potential = {
		always = yes
	}

	option = {
		name = "border_policy_open"

		policy_flags = {
			border_policy_open
		}

		valid = {
			is_country_type = default
			NOR = {
				has_valid_civic = civic_machine_terminator
				has_valid_civic = civic_hive_devouring_swarm
				has_valid_civic = civic_fanatic_purifiers
				has_valid_civic = civic_inwards_perfection
			}
		}
	}

	option = {
		name = "border_policy_closed"

		policy_flags = {
			border_policy_closed
		}
		modifier = {}

		valid = {
			always = yes
		}

		AI_weight = {
			factor = 10
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				NOR = {
					has_ai_personality_behaviour = isolationist
					has_ai_personality_behaviour = attack_neutrals
				}
			}
			modifier = {
				factor = 0
				has_valid_ai_personality = no
				NOR = {
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
				}
			}
		}
	}
}


leader_enhancement = {

	potential = {
		has_technology = tech_selected_lineages
	}

	option = {
		name = "leader_enhancement_natural_selection"
		
		in_breach_of = {
			{
				key = resolution_galacticstudies_ethical_guideline_refactoring
				trigger = {
					OR = {
						has_technology = tech_selected_lineages
						has_technology = tech_capacity_boosters
					}
				}
			}
		}		

		policy_flags = {
			leader_enhancement_natural_selection
		}

		on_enabled = {
			# custom_tooltip = "policy_allow_slavery_effect_disable"
		}

		modifier = {}

	}

	option = {
		name = "leader_enhancement_selected_lineages"
		
		in_breach_of = {
			{
				key = resolution_galacticstudies_ethical_guideline_refactoring
				trigger = {
					has_technology = tech_capacity_boosters
				}
			}
		}		

		policy_flags = {
			leader_enhancement_selected_lineages
		}
		modifier = {
			leader_skill_levels = 1
			leader_age = 10
			leaders_cost_mult = 0.5
		}

		valid = {
			NOT = { has_ethic = "ethic_fanatic_pluralist" }
		}

		AI_weight = {
			factor = 2
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_socialism"
					has_ethic = "ethic_fanatic_socialism"
				}
				NOT = {
					has_valid_ai_personality = yes
					is_ai = yes
					is_galactic_community_member = yes
					OR = {
						is_active_resolution = "resolution_galacticstudies_ethical_guideline_refactoring"
						is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
					}
				}
			}

		}

		prerequisites = { tech_selected_lineages }
	}

	option = {
		name = "leader_enhancement_capacity_boosters"

		policy_flags = {
			leader_enhancement_capacity_boosters
		}
		modifier = {
			leader_skill_levels = 2
			leader_age = 20
			leaders_cost_mult = 1
		}

		valid = {
			NOR = {
				has_ethic = "ethic_pluralist"
				has_ethic = "ethic_fanatic_pluralist"
			}
		}

		prerequisites = { tech_capacity_boosters }

		AI_weight = {
			factor = 3
		}
	}
}
